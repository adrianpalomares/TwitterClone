(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{49:function(e,t,a){e.exports=a(80)},54:function(e,t,a){},55:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(24),o=a.n(r),c=(a(54),a(7)),i=a(8),s=a(10),m=a(9),u=a(11),d=(a(55),a(100)),p=a(107),h=a(102),g=a(104),f=a(105),E=a(103),b=a(43),v=a.n(b),y=a(18),O=Object(d.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function I(){var e=O();return l.a.createElement("div",{className:e.root},l.a.createElement(p.a,{position:"static"},l.a.createElement(h.a,null,l.a.createElement(E.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},l.a.createElement(v.a,null)),l.a.createElement(g.a,{variant:"h6",className:e.title},l.a.createElement(y.b,{className:"navbar-link",to:"/"},"Tweeter")),localStorage.getItem("loggedIn")?l.a.createElement(f.a,{color:"inherit"},l.a.createElement(y.b,{className:"navbar-link",to:"/profile"},"Profile")):l.a.createElement(f.a,{color:"inherit"},l.a.createElement(y.b,{className:"navbar-link",to:"/signup"},"Signup")),l.a.createElement(f.a,{color:"inherit"},localStorage.getItem("loggedIn")?l.a.createElement(y.b,{className:"navbar-link",to:"/logout"},"Logout"):l.a.createElement(y.b,{className:"navbar-link",to:"/login"},"Login")))))}var j=a(23),k=a(106),S=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Tweet"},l.a.createElement("h3",null,"@",this.props.username),l.a.createElement("p",null,this.props.content))}}]),t}(l.a.Component),w=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return 0===this.props.posts.length?l.a.createElement("h1",null,"Loading..."):(console.log(this.props.posts),l.a.createElement(k.a,{className:"Container"},this.props.posts.slice(0).reverse().map((function(e){return l.a.createElement(S,{key:e._id,firstname:e.firstname,username:e.username,content:e.content})}))))}}]),t}(l.a.Component),C=a(19),B=a.n(C),x=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(){var e=this,t=localStorage.getItem("username"),a=localStorage.getItem("_id"),n=document.getElementById("post-area").value;B()({url:"https://quiet-chamber-54675.herokuapp.com/posts",method:"post",headers:{"Access-Control-Allow-Origin":!0},data:{user_id:a,username:t,content:n}}).then((function(l){e.props.addPost({_id:l.data._id,user_id:a,username:t,content:n,date:l.data.date})})),document.getElementById("post-area").value=""}},{key:"render",value:function(){return l.a.createElement("div",{className:"postform"},l.a.createElement("textarea",{id:"post-area",placeholder:"What's happening?"}),l.a.createElement("div",null,l.a.createElement("button",{id:"post-button",onClick:this.handleClick.bind(this)},"Post")))}}]),t}(l.a.Component),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={posts:[],addPost:function(e){a.setState({posts:a.state.posts.concat(e)}),console.log(a.state.posts)}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;B.a.get("https://quiet-chamber-54675.herokuapp.com/posts").then((function(t){return e.setState({posts:t.data})}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,localStorage.getItem("loggedIn")?l.a.createElement("h1",{className:"welcome-heading"},"Welcome, ",localStorage.getItem("username")):l.a.createElement("h1",{className:"welcome-heading"},"Welcome"),localStorage.getItem("loggedIn")?l.a.createElement(x,{addPost:this.state.addPost}):l.a.createElement(l.a.Fragment,null),l.a.createElement(w,{posts:this.state.posts}))}}]),t}(l.a.Component),L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={redirect:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(){var e=this,t=document.getElementById("login-username").value,a=document.getElementById("login-password").value;B()({method:"post",url:"https://quiet-chamber-54675.herokuapp.com/auth",data:{username:t,password:a}}).then((function(e){if(!0===e.data.result)return B.a.get("https://quiet-chamber-54675.herokuapp.com/users/".concat(t));throw new Error("Username or password is wrong")})).then((function(e){console.log(e),localStorage.setItem("loggedIn","true"),localStorage.setItem("_id",e.data._id),localStorage.setItem("username",e.data.username),localStorage.setItem("firstname",e.data.firstname),localStorage.setItem("lastname",e.data.lastname)})).then((function(){e.setState({redirect:!0}),e.props.login()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return!0===this.state.redirect?l.a.createElement(j.a,{to:"/"}):l.a.createElement("div",{className:"login-form"},l.a.createElement("h1",null,"Login"),l.a.createElement("div",null,"Username: ",l.a.createElement("input",{id:"login-username",type:"text"}),l.a.createElement("br",null),"Password: ",l.a.createElement("input",{id:"login-password",type:"password"}),l.a.createElement("br",null),l.a.createElement("button",{onClick:this.handleClick.bind(this)},"Login")))}}]),t}(l.a.Component),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={redirect:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"fillInFields",value:function(){var e=document.getElementById("username-field"),t=document.getElementById("email-field"),a=document.getElementById("firstname-field"),n=document.getElementById("lastname-field");B()({method:"get",url:"https://quiet-chamber-54675.herokuapp.com/users/".concat(localStorage.getItem("username"))}).then((function(l){e.value=l.data.username,t.value=l.data.email,a.value=l.data.firstname,n.value=l.data.lastname}))}},{key:"componentDidMount",value:function(){this.fillInFields()}},{key:"handleClickSave",value:function(){var e=this,t=document.getElementById("username-field"),a=document.getElementById("email-field"),n=document.getElementById("firstname-field"),l=document.getElementById("lastname-field");B()({method:"PUT",url:"https://quiet-chamber-54675.herokuapp.com/users/".concat(localStorage.getItem("_id")),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},data:JSON.stringify({username:t.value,email:a.value,lastname:l.value,firstname:n.value})}).then((function(){localStorage.setItem("username",t.value),localStorage.setItem("email",a.value),localStorage.setItem("firstname",n.value),localStorage.setItem("lastname",l.value)})).then((function(){e.setState({redirect:!0})}))}},{key:"render",value:function(){return this.state.redirect?l.a.createElement(j.a,{to:"/"}):l.a.createElement("div",{className:"profile-page"},l.a.createElement("h1",null,localStorage.getItem("username"),"'s Profile"),"Username",l.a.createElement("input",{type:"text",id:"username-field",readOnly:!0}),l.a.createElement("br",null),"Email",l.a.createElement("input",{type:"text",id:"email-field"})," ",l.a.createElement("br",null),"Firstname",l.a.createElement("input",{type:"text",id:"firstname-field"})," ",l.a.createElement("br",null),"Lastname",l.a.createElement("input",{type:"text",id:"lastname-field"})," ",l.a.createElement("br",null),l.a.createElement("button",{id:"save",onClick:this.handleClickSave.bind(this)},"Save Changes"),l.a.createElement("button",{id:"reset",onClick:this.fillInFields},"Reset"))}}]),t}(l.a.Component),_=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){localStorage.clear(),this.props.logout()}},{key:"render",value:function(){return l.a.createElement(j.a,{to:"/"})}}]),t}(l.a.Component),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={redirect:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(){var e=this,t=document.getElementById("username-form").value,a=document.getElementById("email-form").value,n=document.getElementById("password-form").value,l=document.getElementById("firstname-form").value,r=document.getElementById("lastname-form").value;B.a.post("https://quiet-chamber-54675.herokuapp.com/users",{username:t,email:a,password:n,firstname:l,lastname:r}).then((function(){e.setState({redirect:!0})}))}},{key:"render",value:function(){return this.state.redirect?l.a.createElement(j.a,{to:"/login"}):l.a.createElement("div",{className:"signup-form"},l.a.createElement("h1",null,"Sign up"),"Username:",l.a.createElement("input",{type:"text",id:"username-form"})," ",l.a.createElement("br",null),"Email: ",l.a.createElement("input",{type:"text",id:"email-form"})," ",l.a.createElement("br",null),"Password: ",l.a.createElement("input",{type:"password",id:"password-form"})," ",l.a.createElement("br",null),"First Name: ",l.a.createElement("input",{type:"text",id:"firstname-form"})," ",l.a.createElement("br",null),"Last Name: ",l.a.createElement("input",{type:"text",id:"lastname-form"})," ",l.a.createElement("br",null),l.a.createElement("button",{onClick:this.handleClick.bind(this)},"Submit"))}}]),t}(l.a.Component),q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loggedIn:!1,setLogIn:function(){return a.setState({loggedIn:!0})},setLogOut:function(){return a.setState({loggedIn:!1})}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(y.a,null,l.a.createElement(I,null),l.a.createElement(j.d,null,l.a.createElement(j.b,{exact:!0,path:"/"},l.a.createElement(N,null)),l.a.createElement(j.b,{exact:!0,path:"/login"},l.a.createElement(L,{login:this.state.setLogIn})),l.a.createElement(j.b,{exact:!0,path:"/logout"},l.a.createElement(_,{logout:this.state.setLogOut})),l.a.createElement(j.b,{exact:!0,path:"/profile"},l.a.createElement(P,null)),l.a.createElement(j.b,{exact:!0,path:"/signup"},l.a.createElement(A,null))))}}]),t}(l.a.Component);o.a.render(l.a.createElement(q,null),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.01bcfdc8.chunk.js.map