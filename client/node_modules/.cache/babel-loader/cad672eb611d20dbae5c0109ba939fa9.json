{"ast":null,"code":"import _classCallCheck from\"/home/adrian/Workspace/TwitterClone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/adrian/Workspace/TwitterClone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/adrian/Workspace/TwitterClone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/adrian/Workspace/TwitterClone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/adrian/Workspace/TwitterClone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import axios from\"axios\";import{Redirect}from\"react-router-dom\";var Profile=/*#__PURE__*/function(_React$Component){_inherits(Profile,_React$Component);function Profile(){var _getPrototypeOf2;var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Profile)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={redirect:false};return _this;}_createClass(Profile,[{key:\"fillInFields\",value:function fillInFields(){// Getting document elements\nvar usernameField=document.getElementById(\"username-field\");var emailField=document.getElementById(\"email-field\");var firstnameField=document.getElementById(\"firstname-field\");var lastnameField=document.getElementById(\"lastname-field\");axios({method:\"get\",url:\"https://polar-peak-00113.herokuapp.com/users/\".concat(localStorage.getItem(\"username\"))}).then(function(response){usernameField.value=response.data.username;emailField.value=response.data.email;firstnameField.value=response.data.firstname;lastnameField.value=response.data.lastname;});}},{key:\"componentDidMount\",value:function componentDidMount(){this.fillInFields();}},{key:\"handleClickSave\",value:function handleClickSave(){var _this2=this;// Getting document elements\nvar usernameField=document.getElementById(\"username-field\");var emailField=document.getElementById(\"email-field\");var firstnameField=document.getElementById(\"firstname-field\");var lastnameField=document.getElementById(\"lastname-field\");axios({method:\"PUT\",url:\"https://polar-peak-00113.herokuapp.com/users/\".concat(localStorage.getItem(\"_id\")),headers:{Accept:\"application/json, text/plain, */*\",\"Content-Type\":\"application/json\"},data:JSON.stringify({username:usernameField.value,email:emailField.value,lastname:lastnameField.value,firstname:firstnameField.value})}).then(function(){localStorage.setItem(\"username\",usernameField.value);localStorage.setItem(\"email\",emailField.value);localStorage.setItem(\"firstname\",firstnameField.value);localStorage.setItem(\"lastname\",lastnameField.value);}).then(function(){_this2.setState({redirect:true});});}},{key:\"render\",value:function render(){if(this.state.redirect){return React.createElement(Redirect,{to:\"/\"});}return React.createElement(\"div\",{className:\"profile-page\"},React.createElement(\"h1\",null,localStorage.getItem(\"username\"),\"'s Profile\"),\"Username\",React.createElement(\"input\",{type:\"text\",id:\"username-field\",readOnly:true}),React.createElement(\"br\",null),\"Email\",React.createElement(\"input\",{type:\"text\",id:\"email-field\"}),\" \",React.createElement(\"br\",null),\"Firstname\",React.createElement(\"input\",{type:\"text\",id:\"firstname-field\"}),\" \",React.createElement(\"br\",null),\"Lastname\",React.createElement(\"input\",{type:\"text\",id:\"lastname-field\"}),\" \",React.createElement(\"br\",null),React.createElement(\"button\",{id:\"save\",onClick:this.handleClickSave.bind(this)},\"Save Changes\"),React.createElement(\"button\",{id:\"reset\",onClick:this.fillInFields},\"Reset\"));}}]);return Profile;}(React.Component);export default Profile;","map":{"version":3,"sources":["/home/adrian/Workspace/TwitterClone/client/src/components/pages/Profile.js"],"names":["React","axios","Redirect","Profile","state","redirect","usernameField","document","getElementById","emailField","firstnameField","lastnameField","method","url","localStorage","getItem","then","response","value","data","username","email","firstname","lastname","fillInFields","headers","Accept","JSON","stringify","setItem","setState","handleClickSave","bind","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\n\nclass Profile extends React.Component {\n  state = {\n    redirect: false\n  };\n\n  fillInFields() {\n    // Getting document elements\n    let usernameField = document.getElementById(\"username-field\");\n    let emailField = document.getElementById(\"email-field\");\n    let firstnameField = document.getElementById(\"firstname-field\");\n    let lastnameField = document.getElementById(\"lastname-field\");\n\n    axios({\n      method: \"get\",\n      url: `https://polar-peak-00113.herokuapp.com/users/${localStorage.getItem(\n        \"username\"\n      )}`\n    }).then(response => {\n      usernameField.value = response.data.username;\n      emailField.value = response.data.email;\n      firstnameField.value = response.data.firstname;\n      lastnameField.value = response.data.lastname;\n    });\n  }\n\n  componentDidMount() {\n    this.fillInFields();\n  }\n\n  handleClickSave() {\n    // Getting document elements\n    let usernameField = document.getElementById(\"username-field\");\n    let emailField = document.getElementById(\"email-field\");\n    let firstnameField = document.getElementById(\"firstname-field\");\n    let lastnameField = document.getElementById(\"lastname-field\");\n\n    axios({\n      method: \"PUT\",\n      url: `https://polar-peak-00113.herokuapp.com/users/${localStorage.getItem(\n        \"_id\"\n      )}`,\n      headers: {\n        Accept: \"application/json, text/plain, */*\",\n        \"Content-Type\": \"application/json\"\n      },\n      data: JSON.stringify({\n        username: usernameField.value,\n        email: emailField.value,\n        lastname: lastnameField.value,\n        firstname: firstnameField.value\n      })\n    })\n      .then(() => {\n        localStorage.setItem(\"username\", usernameField.value);\n        localStorage.setItem(\"email\", emailField.value);\n        localStorage.setItem(\"firstname\", firstnameField.value);\n        localStorage.setItem(\"lastname\", lastnameField.value);\n      })\n      .then(() => {\n        this.setState({ redirect: true });\n      });\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <div className=\"profile-page\">\n        <h1>{localStorage.getItem(\"username\")}'s Profile</h1>\n        Username\n        <input type=\"text\" id=\"username-field\" readOnly />\n        <br />\n        Email\n        <input type=\"text\" id=\"email-field\" /> <br />\n        Firstname\n        <input type=\"text\" id=\"firstname-field\" /> <br />\n        Lastname\n        <input type=\"text\" id=\"lastname-field\" /> <br />\n        <button id=\"save\" onClick={this.handleClickSave.bind(this)}>\n          Save Changes\n        </button>\n        <button id=\"reset\" onClick={this.fillInFields}>\n          Reset\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}