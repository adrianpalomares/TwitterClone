{"ast":null,"code":"import _classCallCheck from\"/home/adrian/Workspace/TwitterClone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/adrian/Workspace/TwitterClone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/adrian/Workspace/TwitterClone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/adrian/Workspace/TwitterClone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/adrian/Workspace/TwitterClone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import axios from\"axios\";var PostForm=/*#__PURE__*/function(_React$Component){_inherits(PostForm,_React$Component);function PostForm(){_classCallCheck(this,PostForm);return _possibleConstructorReturn(this,_getPrototypeOf(PostForm).apply(this,arguments));}_createClass(PostForm,[{key:\"handleClick\",value:function handleClick(){var _this=this;var username=localStorage.getItem(\"username\");var user_id=localStorage.getItem(\"_id\");var content=document.getElementById(\"post-area\").value;axios({url:\"https://quiet-chamber-54675.herokuapp.com/posts\",method:\"post\",headers:{\"Access-Control-Allow-Origin\":true},data:{user_id:user_id,username:username,content:content}}).then(function(response){_this.props.addPost({_id:response.data._id,user_id:user_id,username:username,content:content,date:response.data.date});});document.getElementById(\"post-area\").value=\"\";}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"postform\"},React.createElement(\"textarea\",{id:\"post-area\",placeholder:\"What's happening?\"}),React.createElement(\"div\",null,React.createElement(\"button\",{id:\"post-button\",onClick:this.handleClick.bind(this)},\"Post\")));}}]);return PostForm;}(React.Component);export default PostForm;","map":{"version":3,"sources":["/home/adrian/Workspace/TwitterClone/client/src/components/PostForm.js"],"names":["React","axios","PostForm","username","localStorage","getItem","user_id","content","document","getElementById","value","url","method","headers","data","then","response","props","addPost","_id","date","handleClick","bind","Component"],"mappings":"mzBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,Q,gSACU,gBACZ,GAAIC,CAAAA,QAAQ,CAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAf,CACA,GAAIC,CAAAA,OAAO,CAAGF,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAd,CACA,GAAIE,CAAAA,OAAO,CAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAAnD,CAEAT,KAAK,CAAC,CACJU,GAAG,CACD,iDAFE,CAIJC,MAAM,CAAE,MAJJ,CAKJC,OAAO,CAAE,CAAE,8BAA+B,IAAjC,CALL,CAMJC,IAAI,CAAE,CACJR,OAAO,CAAEA,OADL,CAEJH,QAAQ,CAAEA,QAFN,CAGJI,OAAO,CAAEA,OAHL,CANF,CAAD,CAAL,CAWGQ,IAXH,CAWQ,SAAAC,QAAQ,CAAI,CAClB,KAAI,CAACC,KAAL,CAAWC,OAAX,CAAmB,CACjBC,GAAG,CAAEH,QAAQ,CAACF,IAAT,CAAcK,GADF,CAEjBb,OAAO,CAAEA,OAFQ,CAGjBH,QAAQ,CAAEA,QAHO,CAIjBI,OAAO,CAAEA,OAJQ,CAKjBa,IAAI,CAAEJ,QAAQ,CAACF,IAAT,CAAcM,IALH,CAAnB,EAOD,CAnBD,EAoBAZ,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA6C,EAA7C,CACD,C,uCAEQ,CACP,MACE,4BAAK,SAAS,CAAC,UAAf,EACE,gCAAU,EAAE,CAAC,WAAb,CAAyB,WAAW,CAAC,mBAArC,EADF,CAEE,+BACE,8BAAQ,EAAE,CAAC,aAAX,CAAyB,OAAO,CAAE,KAAKW,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAlC,SADF,CAFF,CADF,CAUD,C,sBAxCoBtB,KAAK,CAACuB,S,EA2C7B,cAAerB,CAAAA,QAAf","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n\nclass PostForm extends React.Component {\n  handleClick() {\n    let username = localStorage.getItem(\"username\");\n    let user_id = localStorage.getItem(\"_id\");\n    let content = document.getElementById(\"post-area\").value;\n\n    axios({\n      url:\n        \"https://quiet-chamber-54675.herokuapp.com/posts\",\n\n      method: \"post\",\n      headers: { \"Access-Control-Allow-Origin\": true },\n      data: {\n        user_id: user_id,\n        username: username,\n        content: content\n      }\n    }).then(response => {\n      this.props.addPost({\n        _id: response.data._id,\n        user_id: user_id,\n        username: username,\n        content: content,\n        date: response.data.date\n      });\n    });\n    document.getElementById(\"post-area\").value = \"\";\n  }\n\n  render() {\n    return (\n      <div className=\"postform\">\n        <textarea id=\"post-area\" placeholder=\"What's happening?\"></textarea>\n        <div>\n          <button id=\"post-button\" onClick={this.handleClick.bind(this)}>\n            Post\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PostForm;\n"]},"metadata":{},"sourceType":"module"}